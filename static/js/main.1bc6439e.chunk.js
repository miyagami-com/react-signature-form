(this["webpackJsonpreact-signature-form-example"]=this["webpackJsonpreact-signature-form-example"]||[]).push([[0],{11:function(e,t,n){"use strict";n.r(t);n(4);var r=n(0),i=n.n(r),a=n(1),o=n.n(a),u=n(2);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=function(e){var t=Object(r.useRef)(null),n=Object(r.useState)(!1),a=n[0],o=n[1],u=Object(r.useState)({x:0,y:0}),l=u[0],s=u[1],d=Object(r.useState)(!0),f=d[0],v=d[1],m=400,g=200,h={lineWidth:4,lineJoin:"round",strokeStyle:"#000"},p={marginBottom:14,backgroundColor:"#fff",borderRadius:4,border:"1px solid #f0f0f0"},b={backgroundColor:"#1890ff",color:"white",cursor:"pointer",borderRadius:"4px",height:32,padding:"4px 15px",fontSize:14,border:"none",margin:"4px"},x={color:"rgba(0,0,0,.85)",cursor:"pointer",borderRadius:"4px",height:32,padding:"4px 15px",fontSize:14,border:"1px solid #f0f0f0",margin:"4px"},E={color:"rgba(0,0,0,.85)",cursor:"pointer",borderRadius:"4px",height:32,padding:"4px 15px",fontSize:14,border:"1px solid #f0f0f0",margin:"4px"},y="Save",w="Clear",S="Redraw",k=e.signature,O=e.setSignature,j=e.width,C=e.height,R=e.canvasStyle,B=e.markerStyle,L=e.saveButtonStyle,J=e.clearButtonStyle,T=e.redrawButtonStyle,W=e.saveButtonText,z=e.clearButtonText,I=e.redrawButtonText;Object(r.useEffect)((function(){if(k){var e=t.current,n=null===e||void 0===e?void 0:e.getContext("2d");if(n){var r=new Image;r.onload=function(){n.drawImage(r,0,0)},r.src=k}}}),[]);var P=function(e){if(t.current){var n=t.current,r=n.getBoundingClientRect(),i=n.width/r.width,a=n.height/r.height;return{x:(e.clientX-r.left)*i,y:(e.clientY-r.top)*a}}},M=Object(r.useCallback)((function(e){var t=P(e);t&&(s(t),o(!0),v(!1))}),[]);Object(r.useEffect)((function(){if(t.current&&!k){var e=t.current;return e.addEventListener("mousedown",M),function(){e.removeEventListener("mousedown",M)}}}),[M,k]);var A=Object(r.useCallback)((function(e){if(a){var n=P(e);l&&n&&(!function(e,n){if(t.current&&!k){var r=t.current,i=null===r||void 0===r?void 0:r.getContext("2d");i&&(i.strokeStyle=(null===B||void 0===B?void 0:B.strokeStyle)||h.strokeStyle,i.lineJoin=(null===B||void 0===B?void 0:B.lineJoin)||h.lineJoin,i.lineWidth=(null===B||void 0===B?void 0:B.lineWidth)||h.lineWidth,i.beginPath(),i.moveTo(e.x,e.y),i.lineTo(n.x,n.y),i.closePath(),i.stroke())}}(l,n),s(n))}}),[a,l]);Object(r.useEffect)((function(){if(t.current&&!k){var e=t.current;return e.addEventListener("mousemove",A),function(){e.removeEventListener("mousemove",A)}}}),[A,k]);var D=Object(r.useCallback)((function(){o(!1),s({x:0,y:0})}),[]);Object(r.useEffect)((function(){if(t.current&&!k){var e=t.current;return e.addEventListener("mouseup",D),e.addEventListener("mouseleave",D),function(){e.removeEventListener("mouseup",D),e.removeEventListener("mouseleave",D)}}}),[D,k]);return i.a.createElement("div",null,i.a.createElement("div",{style:c({},p,R,{width:j,height:C})},i.a.createElement("canvas",{ref:t,height:C||g,width:j||m})),i.a.createElement("button",{style:k?c({},E,T):c({},x,J),onClick:function(){return function(){if(v(!0),k&&O(""),t.current){var e=t.current,n=null===e||void 0===e?void 0:e.getContext("2d");n&&n.clearRect(0,0,e.width,e.height)}}()}},k?I||S:z||w),!k&&i.a.createElement("button",{style:c({},b,L),onClick:function(){return function(){if(t.current&&!f){var e=t.current;(null===e||void 0===e?void 0:e.getContext("2d"))&&O(null===e||void 0===e?void 0:e.toDataURL("image/png").replace("image/png","image/octet-stream"))}}()}},W||y))},s=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1];return i.a.createElement("div",{className:"container"},i.a.createElement("h1",null,"React signature form"),i.a.createElement("p",null,"A lightweight and customisable package to enable your ",i.a.createElement("br",null)," users to set their autographs and save it to an image."),i.a.createElement(l,{signature:n,setSignature:a,width:400,height:200}),i.a.createElement("p",null,"Made with \u2764\ufe0f\u3164by ",i.a.createElement("a",{href:"https://www.miyagami.com",target:"_blank",rel:"noreferrer"},"Miyagami")))};o.a.render(i.a.createElement(s,null),document.getElementById("root"))},3:function(e,t,n){e.exports=n(11)},4:function(e,t,n){}},[[3,1,2]]]);
//# sourceMappingURL=main.1bc6439e.chunk.js.map